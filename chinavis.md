# ChinaVis

19/04/2019
---
**数据处理**：武春媛

1. 每个传感器对应的场馆
   - 建立给场馆编号的字典
   - 在传感器布置表后加一列：传感器对应场馆编号
2. 三天传感器日志整合，调整时间格式，划分时间片
3. 数据格式：字段名不变，格式json

**数据分析**：盛诗颖

把人员流动情况根据地图画出一个简单的动态效果来

便于通过观察进行进一步视图和框架的设计。

**下次开会时间**：4-23 14:00:00
其他人任务：

观察数据和解决问题，提出具有可行性的视图设计。

下次开会时根据大家提出的视图和实现的动态效果设计框架。

24/04/2019
---
**数据处理**：武春媛

1. 按照人员在所有数据按时间顺序处理
2. 按照房间在所有数据按时间顺序处理
3. 数据处理好后可以放入数据库：MySQL

**问题分析**：

- 人员类型：
  - 做报告的（资深专家，商业大咖等）
  - 媒体记者（怎么区分？）
  - 参展单位（展厅和海报区）
  - 工作人员
  - 参会人员
- 异常行为分析：
  - 预设异常的行为模式
  - 行为模式分类（按照房间，展示所有具体的行为模式）
  - 按照人的轨迹聚类（行为模式聚类），至少把参会人员和其他人员区分
  - 按照人在每个房间呆的时间进行聚类
  
**视图设计**：

1. 地图：主视图（两层楼切换，当选定并观察某一个人的时候可以两层楼并派）
   - 观察单个人的行为时，将整体人员分布变成热图，观察单个人和整体行为模式的区别，画这个人一整天的轨迹（或者传感器亮一下）
   - 观察单个人的行为时，在同一种人员类型下观察
2. 时间轴
   - 人员折线图：观察单个人在整个时间轴的移动频率（背景可以加上整体人员运动频率）
   - 房间折线图：观察房间在整个时间轴的人员数量
3. 行为模式图（看行为模式分析的算法分析出来的效果）

**下次开会时间**：4-30 13:00:00

**任务分配**：

刘威，韩欣颖：搭框架（时间轴和地图）

陈圣涛：数据处理

盛诗颖：行为模式

武春媛：聚类

30/04/2019
---
**数据处理**:
前端读取数据.

1. 人员：存成json：key:id, data:{"day1":[{"sid": time}], "day2":[], "day3":[]}
2. sensor：json：key:sid, data:{"day1":[ time], "day2": [], "day3": []}

做热图：按照sensor统计数据

聚类：

1. 楼层的坐标差距大一点
2. 距离计算：dtw，lcss，
   欧式距离：scipy.spatial.distance.pdist

**视图划分**:

刘威：主视图：热图添加，时间轴 </br>
盛诗颖：1. 行为模式挖掘（像桑基图的效果）2. 数据处理 </br>
武春媛：聚类：武春媛自己画一个聚类过后的轨迹效果 </br>
陈圣涛：人员移动折线图：观察单个人在整个时间轴的移动频率，最好按照移动频率聚类</br>
韩欣颖：按照人在每个房间呆的时间进行聚类</br>

07/05/2019
---
刘威：热图把房间的框框画出来，修改时间轴显示房间人口折线图 </br>
韩欣颖：按照人在每个房间呆的时间进行聚类 </br>
武春媛：轨迹效果图先保留，画轨迹效果图的时间片切短一点（比如十秒），t-SNE降维画一个效果图出来和轨迹图联动 </br>
陈圣涛：t-SNE降维，和折线图联动 </br>
盛诗颖：修改行为模式挖掘的时间点，画桑基图 </br>

问题：
静止不动的时候能否被传感器检测到（暂时推测没有）</br>
修改每个人在每个房间停留的时间长度的统计方法

**下次开会时间**：07/05/2019

**时间节点**:
14/05/2019: 每个人会出来至少一个视图，根据每人的视图确定整体框架，根据空间设计添加新的视图</br>
21/05/2019: 整合整个框架，同时修改视图</br>
28/05/2019: 继续修改</br>
04/06/2019: 回答问题把文档写完</br>
09/06/2019: 录视频

**工具**

后端python: flask
前端: 简单的js

**ddl**
![](ddl.png)
